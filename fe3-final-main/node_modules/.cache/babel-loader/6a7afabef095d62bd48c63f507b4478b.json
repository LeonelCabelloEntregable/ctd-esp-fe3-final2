{"ast":null,"code":"var _jsxFileName = \"D:\\\\FINAL FRONTEND 3\\\\TEMPLATE V2\\\\fe3-final-main\\\\src\\\\Components\\\\utils\\\\global.context.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { useContext, createContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GlobalContext = /*#__PURE__*/createContext();\nexport const useGlobalContext = () => {\n  _s();\n\n  return useContext(GlobalContext);\n};\n\n_s(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nconst GlobalContextProvider = _ref => {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const key = \"globalState\";\n  const [global, setGlobal] = useState({\n    favorites: [],\n    theme: \"light\"\n  });\n  useEffect(() => {\n    if (!localStorage.getItem(key)) {\n      console.log(\"No existe local storage\");\n      localStorage.setItem(key, JSON.stringify(global));\n    } else {\n      setGlobal(JSON.parse(localStorage.getItem(key)));\n    }\n  }, []);\n\n  const save = data => {\n    localStorage.setItem(key, JSON.stringify(data));\n    console.log(\"guardado\");\n  };\n\n  const getGlobalHistory = () => JSON.parse(localStorage.getItem(key));\n\n  const addFavorite = user => {\n    const globalHistory = getGlobalHistory();\n    globalHistory.favorites = [...globalHistory.favorites, user];\n    save(globalHistory);\n    setGlobal(globalHistory);\n  };\n\n  const isInFavorites = id => global.favorites.some(favorite => favorite.id === id);\n\n  const deleteFromFavorites = id => {\n    const globalHistory = getGlobalHistory();\n    globalHistory.favorites = globalHistory.favorites.filter(favorite => favorite.id !== id);\n    save(globalHistory);\n    setGlobal(globalHistory);\n  };\n\n  const changeTheme = () => {\n    const globalHistory = getGlobalHistory();\n    globalHistory.theme === \"dark\" ? globalHistory.theme = \"light\" : globalHistory.theme = \"dark\";\n    save(globalHistory);\n    setGlobal(globalHistory);\n  };\n\n  const isDark = () => global.theme === \"dark\";\n\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: {\n      global,\n      addFavorite,\n      isInFavorites,\n      deleteFromFavorites,\n      changeTheme,\n      isDark\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(GlobalContextProvider, \"fFk0Yg1SvUnsbneJMNYRbqJCwQs=\");\n\n_c = GlobalContextProvider;\nexport default GlobalContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"GlobalContextProvider\");","map":{"version":3,"names":["React","useEffect","useContext","createContext","useState","GlobalContext","useGlobalContext","GlobalContextProvider","children","key","global","setGlobal","favorites","theme","localStorage","getItem","console","log","setItem","JSON","stringify","parse","save","data","getGlobalHistory","addFavorite","user","globalHistory","isInFavorites","id","some","favorite","deleteFromFavorites","filter","changeTheme","isDark"],"sources":["D:/FINAL FRONTEND 3/TEMPLATE V2/fe3-final-main/src/Components/utils/global.context.jsx"],"sourcesContent":["import React from 'react'\nimport { useEffect } from 'react'\nimport { useContext, createContext, useState } from 'react'\n\nconst GlobalContext = createContext()\nexport const useGlobalContext = () => useContext(GlobalContext)\n\nconst GlobalContextProvider = ({children}) => {\n  const key = \"globalState\"\n\n    \n  \n  const [global, setGlobal] = useState({favorites:[], theme:\"light\"})\n  useEffect(\n    () =>{\n      if(!localStorage.getItem(key)){\n        console.log(\"No existe local storage\")\n        localStorage.setItem(key, JSON.stringify(global))\n      }\n      else{\n        setGlobal(JSON.parse(localStorage.getItem(key)))\n      }\n    },[]\n  )\n\n  const save = (data) => {\n    localStorage.setItem(key, JSON.stringify(data))\n    console.log(\"guardado\")\n  }\n  const getGlobalHistory = () => JSON.parse(localStorage.getItem(key))\n\n    const addFavorite = (user) => {\n        const globalHistory = getGlobalHistory()\n        globalHistory.favorites= [...globalHistory.favorites,user]\n        save(globalHistory)\n        setGlobal(globalHistory)\n    }\n    const isInFavorites = (id) => global.favorites.some(favorite => favorite.id ===id)\n    const deleteFromFavorites = (id) => {\n      const globalHistory = getGlobalHistory()\n      globalHistory.favorites = globalHistory.favorites.filter(favorite => favorite.id !== id)\n      save(globalHistory)\n      setGlobal(globalHistory)\n    }\n\n    const changeTheme = () =>{\n      const globalHistory = getGlobalHistory()\n      globalHistory.theme === \"dark\" ? globalHistory.theme = \"light\" : globalHistory.theme = \"dark\"\n      save(globalHistory)\n      setGlobal(globalHistory)\n  }\n  const isDark = () => global.theme === \"dark\"\n\n  return (\n    <GlobalContext.Provider value={{global, addFavorite, isInFavorites, deleteFromFavorites, changeTheme, isDark}}>\n        {children}\n    </GlobalContext.Provider>\n  )\n}\n\nexport default GlobalContextProvider\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}